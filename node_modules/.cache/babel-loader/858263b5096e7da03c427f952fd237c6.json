{"ast":null,"code":"var _jsxFileName = \"/home/osvaldo/unix_tests/git/trybe-exercises/exercises/front-end/exercise-react-hooks-refactoring/src/context/GameProvider.js\";\nimport React, { useState } from 'react';\nimport GameContext from './GameContext';\n\nfunction GameProvider({\n  children\n}) {\n  const [activePlayer, setActivePlayer] = useState({\n    activePlayer: 1\n  });\n  const [gameBoard, setGameBoard] = useState({\n    gameBoard: [0, 0, 0, 0, 0, 0, 0, 0, 0]\n  });\n\n  const resetGame = () => {\n    setActivePlayer({\n      activePlayer: 1\n    });\n    setGameBoard({\n      gameBoard: [0, 0, 0, 0, 0, 0, 0, 0, 0]\n    });\n  };\n\n  const updateState = cellClicked => {\n    this.setState(state => {\n      const newState = [...state.gameBoard];\n      let newActivePlayer = state.activePlayer;\n\n      if (state.gameBoard[cellClicked] === 0) {\n        newState[cellClicked] = state.activePlayer;\n        newActivePlayer = this.toggleActivePlayer();\n      } else newState[cellClicked] = state.gameBoard[cellClicked];\n\n      return {\n        activePlayer: newActivePlayer,\n        gameBoard: newState\n      };\n    });\n  };\n\n  const context = {\n    activePlayer,\n    gameBoard,\n    resetGame,\n    updateState\n  };\n  return /*#__PURE__*/React.createElement(GameContext.Provider, {\n    value: context,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, children);\n}\n\nexport default GameProvider;","map":{"version":3,"sources":["/home/osvaldo/unix_tests/git/trybe-exercises/exercises/front-end/exercise-react-hooks-refactoring/src/context/GameProvider.js"],"names":["React","useState","GameContext","GameProvider","children","activePlayer","setActivePlayer","gameBoard","setGameBoard","resetGame","updateState","cellClicked","setState","state","newState","newActivePlayer","toggleActivePlayer","context"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAEA,SAASC,YAAT,CAAsB;AAAEC,EAAAA;AAAF,CAAtB,EAAoC;AAClC,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCL,QAAQ,CAAC;AAC/CI,IAAAA,YAAY,EAAE;AADiC,GAAD,CAAhD;AAIA,QAAM,CAACE,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC;AACzCM,IAAAA,SAAS,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB;AAD8B,GAAD,CAA1C;;AAIA,QAAME,SAAS,GAAG,MAAM;AACtBH,IAAAA,eAAe,CAAC;AAAED,MAAAA,YAAY,EAAE;AAAhB,KAAD,CAAf;AACAG,IAAAA,YAAY,CAAC;AAAED,MAAAA,SAAS,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB;AAAb,KAAD,CAAZ;AACD,GAHD;;AAKA,QAAMG,WAAW,GAAIC,WAAD,IAAiB;AACnC,SAAKC,QAAL,CAAeC,KAAD,IAAW;AACvB,YAAMC,QAAQ,GAAG,CAAC,GAAGD,KAAK,CAACN,SAAV,CAAjB;AACA,UAAIQ,eAAe,GAAGF,KAAK,CAACR,YAA5B;;AAEA,UAAIQ,KAAK,CAACN,SAAN,CAAgBI,WAAhB,MAAiC,CAArC,EAAwC;AACtCG,QAAAA,QAAQ,CAACH,WAAD,CAAR,GAAwBE,KAAK,CAACR,YAA9B;AACAU,QAAAA,eAAe,GAAG,KAAKC,kBAAL,EAAlB;AACD,OAHD,MAGOF,QAAQ,CAACH,WAAD,CAAR,GAAwBE,KAAK,CAACN,SAAN,CAAgBI,WAAhB,CAAxB;;AAEP,aAAO;AACLN,QAAAA,YAAY,EAAEU,eADT;AAELR,QAAAA,SAAS,EAAEO;AAFN,OAAP;AAID,KAbD;AAcD,GAfD;;AAiBA,QAAMG,OAAO,GAAE;AACbZ,IAAAA,YADa;AAEbE,IAAAA,SAFa;AAGbE,IAAAA,SAHa;AAIbC,IAAAA;AAJa,GAAf;AAOA,sBACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAGO,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGb,QADH,CADF;AAKD;;AAED,eAAeD,YAAf","sourcesContent":["import React, { useState } from 'react';\nimport GameContext from './GameContext';\n\nfunction GameProvider({ children }) {\n  const [activePlayer, setActivePlayer] = useState({\n    activePlayer: 1,\n  })\n\n  const [gameBoard, setGameBoard] = useState({\n    gameBoard: [0, 0, 0, 0, 0, 0, 0, 0, 0],\n  })\n\n  const resetGame = () => {\n    setActivePlayer({ activePlayer: 1 });\n    setGameBoard({ gameBoard: [0, 0, 0, 0, 0, 0, 0, 0, 0]});\n  }\n\n  const updateState = (cellClicked) => {\n    this.setState((state) => {\n      const newState = [...state.gameBoard];\n      let newActivePlayer = state.activePlayer;\n\n      if (state.gameBoard[cellClicked] === 0) {\n        newState[cellClicked] = state.activePlayer;\n        newActivePlayer = this.toggleActivePlayer();\n      } else newState[cellClicked] = state.gameBoard[cellClicked];\n\n      return {\n        activePlayer: newActivePlayer,\n        gameBoard: newState,\n      };\n    });\n  }\n\n  const context ={\n    activePlayer,\n    gameBoard,\n    resetGame,\n    updateState,\n  }\n\n  return(\n    <GameContext.Provider value={ context }>\n      {children}\n    </GameContext.Provider>\n  )\n}\n\nexport default GameProvider;"]},"metadata":{},"sourceType":"module"}