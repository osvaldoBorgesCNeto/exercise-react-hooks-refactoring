{"ast":null,"code":"var _jsxFileName = \"/home/osvaldo/unix_tests/git/trybe-exercises/exercises/front-end/exercise-react-hooks-refactoring/src/context/GameProvider.js\";\nimport React, { useState } from 'react';\nimport GameContext from './GameContext';\n\nfunction GameProvider({\n  children\n}) {\n  const [gameState, setGameState] = useState({\n    activePlayer: 1\n  });\n  const [gameBoard, setGameBoard] = useState({\n    gameBoard: [0, 0, 0, 0, 0, 0, 0, 0, 0]\n  });\n\n  const resetGame = () => {\n    setActivePlayer({\n      activePlayer: 1\n    });\n    setGameBoard({\n      gameBoard: [0, 0, 0, 0, 0, 0, 0, 0, 0]\n    });\n  };\n\n  const updateState = cellClicked => {\n    setGameState(state => {\n      const newState = [...state.gameBoard];\n      let newActivePlayer = state.activePlayer;\n\n      if (state.gameBoard[cellClicked] === 0) {\n        newState[cellClicked] = state.activePlayer;\n        newActivePlayer = this.toggleActivePlayer();\n      } else newState[cellClicked] = state.gameBoard[cellClicked];\n\n      return {\n        activePlayer: newActivePlayer,\n        gameBoard: newState\n      };\n    });\n  };\n\n  const context = {\n    activePlayer,\n    gameBoard,\n    resetGame,\n    updateState\n  };\n  return /*#__PURE__*/React.createElement(GameContext.Provider, {\n    value: context,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, children);\n}\n\nexport default GameProvider;","map":{"version":3,"sources":["/home/osvaldo/unix_tests/git/trybe-exercises/exercises/front-end/exercise-react-hooks-refactoring/src/context/GameProvider.js"],"names":["React","useState","GameContext","GameProvider","children","gameState","setGameState","activePlayer","gameBoard","setGameBoard","resetGame","setActivePlayer","updateState","cellClicked","state","newState","newActivePlayer","toggleActivePlayer","context"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAEA,SAASC,YAAT,CAAsB;AAAEC,EAAAA;AAAF,CAAtB,EAAoC;AAClC,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BL,QAAQ,CAAC;AACzCM,IAAAA,YAAY,EAAE;AAD2B,GAAD,CAA1C;AAIA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAC;AACzCO,IAAAA,SAAS,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB;AAD8B,GAAD,CAA1C;;AAIA,QAAME,SAAS,GAAG,MAAM;AACtBC,IAAAA,eAAe,CAAC;AAAEJ,MAAAA,YAAY,EAAE;AAAhB,KAAD,CAAf;AACAE,IAAAA,YAAY,CAAC;AAAED,MAAAA,SAAS,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB;AAAb,KAAD,CAAZ;AACD,GAHD;;AAKA,QAAMI,WAAW,GAAIC,WAAD,IAAiB;AACnCP,IAAAA,YAAY,CAAEQ,KAAD,IAAW;AACtB,YAAMC,QAAQ,GAAG,CAAC,GAAGD,KAAK,CAACN,SAAV,CAAjB;AACA,UAAIQ,eAAe,GAAGF,KAAK,CAACP,YAA5B;;AAEA,UAAIO,KAAK,CAACN,SAAN,CAAgBK,WAAhB,MAAiC,CAArC,EAAwC;AACtCE,QAAAA,QAAQ,CAACF,WAAD,CAAR,GAAwBC,KAAK,CAACP,YAA9B;AACAS,QAAAA,eAAe,GAAG,KAAKC,kBAAL,EAAlB;AACD,OAHD,MAGOF,QAAQ,CAACF,WAAD,CAAR,GAAwBC,KAAK,CAACN,SAAN,CAAgBK,WAAhB,CAAxB;;AAEP,aAAO;AACLN,QAAAA,YAAY,EAAES,eADT;AAELR,QAAAA,SAAS,EAAEO;AAFN,OAAP;AAID,KAbW,CAAZ;AAcD,GAfD;;AAiBA,QAAMG,OAAO,GAAE;AACbX,IAAAA,YADa;AAEbC,IAAAA,SAFa;AAGbE,IAAAA,SAHa;AAIbE,IAAAA;AAJa,GAAf;AAOA,sBACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAGM,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGd,QADH,CADF;AAKD;;AAED,eAAeD,YAAf","sourcesContent":["import React, { useState } from 'react';\nimport GameContext from './GameContext';\n\nfunction GameProvider({ children }) {\n  const [gameState, setGameState] = useState({\n    activePlayer: 1,\n  })\n\n  const [gameBoard, setGameBoard] = useState({\n    gameBoard: [0, 0, 0, 0, 0, 0, 0, 0, 0],\n  })\n\n  const resetGame = () => {\n    setActivePlayer({ activePlayer: 1 });\n    setGameBoard({ gameBoard: [0, 0, 0, 0, 0, 0, 0, 0, 0]});\n  }\n\n  const updateState = (cellClicked) => {\n    setGameState((state) => {\n      const newState = [...state.gameBoard];\n      let newActivePlayer = state.activePlayer;\n\n      if (state.gameBoard[cellClicked] === 0) {\n        newState[cellClicked] = state.activePlayer;\n        newActivePlayer = this.toggleActivePlayer();\n      } else newState[cellClicked] = state.gameBoard[cellClicked];\n\n      return {\n        activePlayer: newActivePlayer,\n        gameBoard: newState,\n      };\n    });\n  }\n\n  const context ={\n    activePlayer,\n    gameBoard,\n    resetGame,\n    updateState,\n  }\n\n  return(\n    <GameContext.Provider value={ context }>\n      {children}\n    </GameContext.Provider>\n  )\n}\n\nexport default GameProvider;"]},"metadata":{},"sourceType":"module"}