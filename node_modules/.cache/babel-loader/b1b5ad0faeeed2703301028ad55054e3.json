{"ast":null,"code":"var _jsxFileName = \"/home/osvaldo/unix_tests/git/trybe-exercises/exercises/front-end/exercise-react-hooks-refactoring/src/context/GameProvider.js\";\nimport React, { useState } from 'react';\nimport GameContext from './GameContext';\n\nfunction GameProvider({\n  children\n}) {\n  const [gameState, setGameState] = useState({\n    activePlayer: 1,\n    gameBoard: [0, 0, 0, 0, 0, 0, 0, 0, 0]\n  });\n\n  const resetGame = () => {\n    setGameState({\n      activePlayer: 1,\n      gameBoard: [0, 0, 0, 0, 0, 0, 0, 0, 0]\n    });\n  };\n\n  const toggleActivePlayer = () => {\n    if (gameState.activePlayer === 1) return 2;\n    return 1;\n  };\n\n  const updateState = cellClicked => {\n    setGameState(state => {\n      const newState = [...state.gameBoard];\n      let newActivePlayer = state.activePlayer;\n\n      if (state.gameBoard[cellClicked] === 0) {\n        newState[cellClicked] = state.activePlayer;\n        newActivePlayer = toggleActivePlayer();\n      } else newState[cellClicked] = state.gameBoard[cellClicked];\n\n      return {\n        activePlayer: newActivePlayer,\n        gameBoard: newState\n      };\n    });\n  };\n\n  const context = {\n    gameState,\n    resetGame,\n    updateState\n  };\n  return /*#__PURE__*/React.createElement(GameContext.Provider, {\n    value: context,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, children);\n}\n\nexport default GameProvider;","map":{"version":3,"sources":["/home/osvaldo/unix_tests/git/trybe-exercises/exercises/front-end/exercise-react-hooks-refactoring/src/context/GameProvider.js"],"names":["React","useState","GameContext","GameProvider","children","gameState","setGameState","activePlayer","gameBoard","resetGame","toggleActivePlayer","updateState","cellClicked","state","newState","newActivePlayer","context"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAEA,SAASC,YAAT,CAAsB;AAAEC,EAAAA;AAAF,CAAtB,EAAoC;AAClC,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BL,QAAQ,CAAC;AACzCM,IAAAA,YAAY,EAAE,CAD2B;AAEzCC,IAAAA,SAAS,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB;AAF8B,GAAD,CAA1C;;AAKA,QAAMC,SAAS,GAAG,MAAM;AACtBH,IAAAA,YAAY,CAAC;AACXC,MAAAA,YAAY,EAAE,CADH;AAEXC,MAAAA,SAAS,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB;AAFA,KAAD,CAAZ;AAID,GALD;;AAOA,QAAME,kBAAkB,GAAG,MAAM;AAC/B,QAAIL,SAAS,CAACE,YAAV,KAA2B,CAA/B,EAAkC,OAAO,CAAP;AAClC,WAAO,CAAP;AACD,GAHD;;AAKA,QAAMI,WAAW,GAAIC,WAAD,IAAiB;AACnCN,IAAAA,YAAY,CAAEO,KAAD,IAAW;AACtB,YAAMC,QAAQ,GAAG,CAAC,GAAGD,KAAK,CAACL,SAAV,CAAjB;AACA,UAAIO,eAAe,GAAGF,KAAK,CAACN,YAA5B;;AAEA,UAAIM,KAAK,CAACL,SAAN,CAAgBI,WAAhB,MAAiC,CAArC,EAAwC;AACtCE,QAAAA,QAAQ,CAACF,WAAD,CAAR,GAAwBC,KAAK,CAACN,YAA9B;AACAQ,QAAAA,eAAe,GAAGL,kBAAkB,EAApC;AACD,OAHD,MAGOI,QAAQ,CAACF,WAAD,CAAR,GAAwBC,KAAK,CAACL,SAAN,CAAgBI,WAAhB,CAAxB;;AAEP,aAAO;AACLL,QAAAA,YAAY,EAAEQ,eADT;AAELP,QAAAA,SAAS,EAAEM;AAFN,OAAP;AAID,KAbW,CAAZ;AAcD,GAfD;;AAiBA,QAAME,OAAO,GAAE;AACbX,IAAAA,SADa;AAEbI,IAAAA,SAFa;AAGbE,IAAAA;AAHa,GAAf;AAMA,sBACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAGK,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGZ,QADH,CADF;AAKD;;AAED,eAAeD,YAAf","sourcesContent":["import React, { useState } from 'react';\nimport GameContext from './GameContext';\n\nfunction GameProvider({ children }) {\n  const [gameState, setGameState] = useState({\n    activePlayer: 1,\n    gameBoard: [0, 0, 0, 0, 0, 0, 0, 0, 0],\n  })\n\n  const resetGame = () => {\n    setGameState({\n      activePlayer: 1,\n      gameBoard: [0, 0, 0, 0, 0, 0, 0, 0, 0],\n    });\n  }\n\n  const toggleActivePlayer = () => {\n    if (gameState.activePlayer === 1) return 2;\n    return 1;\n  }\n\n  const updateState = (cellClicked) => {\n    setGameState((state) => {\n      const newState = [...state.gameBoard];\n      let newActivePlayer = state.activePlayer;\n\n      if (state.gameBoard[cellClicked] === 0) {\n        newState[cellClicked] = state.activePlayer;\n        newActivePlayer = toggleActivePlayer();\n      } else newState[cellClicked] = state.gameBoard[cellClicked];\n\n      return {\n        activePlayer: newActivePlayer,\n        gameBoard: newState,\n      };\n    });\n  }\n\n  const context ={\n    gameState,\n    resetGame,\n    updateState,\n  }\n\n  return(\n    <GameContext.Provider value={ context }>\n      {children}\n    </GameContext.Provider>\n  )\n}\n\nexport default GameProvider;"]},"metadata":{},"sourceType":"module"}